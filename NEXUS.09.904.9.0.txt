@0
S:MOV ANY ACC
MOV 0 RIGHT
L:JEZ D
  MOV ACC RIGHT
  MOV ACC DOWN
  MOV LAST ACC
 JMP L
D:MOV 0 DOWN
  JRO DOWN
  MOV 0 LEFT
L2:MOV RIGHT ACC
 JEZ S
  MOV ACC LEFT
 JMP L2

@1
MOV 1 ACC
S:JRO RIGHT
  MOV ACC RIGHT
 JMP S
  ADD 1
 JMP S
  MOV 1 ACC
 JMP S

@2
L:MOV UP ACC
 JEZ D
  MOV 1 LEFT
  SUB LEFT
 JNZ N
  SWP
  ADD 1
  SWP
N:JMP L
D:SWP
  MOV ACC DOWN
  MOV 3 LEFT
  MOV RIGHT LEFT
  MOV RIGHT UP

@3
  MOV 4 ACC
L:MOV 0 LEFT
  MOV 1 LEFT
  SUB 1
 JGZ L
  MOV 5 LEFT
L2:MOV UP ACC
 JNZ L2
  MOV -8 LEFT

@4
S:JRO RIGHT
  SAV
  SUB RIGHT
 JGZ N
 JEZ Z
  MOV 6 RIGHT
  MOV RIGHT ACC
 JMP S
N:MOV 9 RIGHT
 JMP R
Z:MOV 3 RIGHT
R:MOV RIGHT NIL
  SWP
 JMP S
  MOV 0 ACC

@5
MOV 5 ACC
L:SWP
  MOV UP ACC
  MOV 1 LEFT
  MOV ACC LEFT
  MOV LEFT RIGHT
  MOV ACC LEFT
  SWP
  MOV ACC RIGHT
  SUB 1
 JGZ L

MOV 14 LEFT
MOV 1 RIGHT
MOV RIGHT DOWN

@6
S:JRO LEFT
  MOV ACC LEFT
 JMP S
  MOV 0 ACC
  MOV LEFT NIL
 JMP S
  MOV 6 ACC
  SUB LEFT
 JMP S
  MOV LEFT NIL
 JMP S
